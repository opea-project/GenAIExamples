# Copyright (C) 2024 Intel Corporation
# SPDX-License-Identifier: Apache-2.0

# Container CI for CodeGen
services:
  codegen:
    build:
      args:
        http_proxy: ${http_proxy}
        https_proxy: ${https_proxy}
        no_proxy: ""
      context: ./docker
      dockerfile: Dockerfile
    image: ${REGISTRY:-opea}/codegen:${GITHUB_RUN_NUMBER:-latest}
  codegen-ui:
    build:
      context: ./docker/ui
      dockerfile: ./docker/Dockerfile
    extends: codegen
    image: ${REGISTRY:-opea}/codegen-ui:${GITHUB_RUN_NUMBER:-latest}
