# Copyright (C) 2024 Intel Corporation
# SPDX-License-Identifier: Apache-2.0

# Default values for Cogniware IMS Helm chart

global:
  modelUseHostPath: /mnt/opea-models
  HUGGINGFACEHUB_API_TOKEN: "insert-your-huggingface-token-here"

  # Proxy settings
  http_proxy: ""
  https_proxy: ""
  no_proxy: ""

# Cogniware IMS Backend
cogniwareims-backend:
  enabled: true
  replicaCount: 1
  image:
    repository: opea/cogniwareims-backend
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 8000
  env:
    LOG_LEVEL: "INFO"

# Cogniware IMS Frontend UI
cogniwareims-ui:
  enabled: true
  replicaCount: 1
  image:
    repository: opea/cogniwareims-ui
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: LoadBalancer
    port: 3000
  env:
    NODE_ENV: production

# PostgreSQL Database
postgres:
  enabled: true
  image:
    repository: postgres
    tag: 15-alpine
  service:
    type: ClusterIP
    port: 5432
  env:
    POSTGRES_DB: opea_ims
    POSTGRES_USER: postgres
    POSTGRES_PASSWORD: postgres
  persistence:
    enabled: true
    size: 10Gi

# Redis Vector Database
redis-vector-db:
  enabled: true
  image:
    repository: redis/redis-stack
    tag: 7.2.0-v9
  service:
    type: ClusterIP
    port: 6379
  persistence:
    enabled: true
    size: 5Gi

# TGI Service
tgi-service:
  enabled: true
  image:
    repository: ghcr.io/huggingface/text-generation-inference
    tag: 2.0.1
  service:
    type: ClusterIP
    port: 80
  env:
    MODEL_ID: Intel/neural-chat-7b-v3-3
    MAX_INPUT_LENGTH: 2048
    MAX_TOTAL_TOKENS: 4096
  resources:
    limits:
      cpu: "8"
      memory: 16Gi
    requests:
      cpu: "4"
      memory: 8Gi

# LLM Microservice
llm-tgi:
  enabled: true
  image:
    repository: opea/llm-tgi
    tag: latest
  service:
    type: ClusterIP
    port: 9000

# TEI Embedding Service
tei-embedding-service:
  enabled: true
  image:
    repository: ghcr.io/huggingface/text-embeddings-inference
    tag: cpu-1.5
  service:
    type: ClusterIP
    port: 80
  env:
    MODEL_ID: BAAI/bge-base-en-v1.5

# Embedding Microservice
embedding:
  enabled: true
  image:
    repository: opea/embedding-tei
    tag: latest
  service:
    type: ClusterIP
    port: 6000

# Retriever Microservice
retriever:
  enabled: true
  image:
    repository: opea/retriever-redis
    tag: latest
  service:
    type: ClusterIP
    port: 7000

# Reranking Microservice
reranking:
  enabled: true
  image:
    repository: opea/reranking-tei
    tag: latest
  service:
    type: ClusterIP
    port: 8000

# Data Preparation Microservice
dataprep-redis:
  enabled: true
  image:
    repository: opea/dataprep-redis
    tag: latest
  service:
    type: ClusterIP
    port: 6007
