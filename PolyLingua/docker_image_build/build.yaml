# Copyright (C) 2024 Intel Corporation
# SPDX-License-Identifier: Apache-2.0

services:
  polylingua:
    build:
      args:
        IMAGE_REPO: ${REGISTRY}
        BASE_TAG: ${TAG}
        http_proxy: ${http_proxy}
        https_proxy: ${https_proxy}
        no_proxy: ${no_proxy}
      context: ../
      dockerfile: ./Dockerfile
    image: ${REGISTRY:-opea}/polylingua:${TAG:-latest}

  polylingua-ui:
    build:
      context: ../ui
      dockerfile: ./Dockerfile
    extends: polylingua
    image: ${REGISTRY:-opea}/polylingua-ui:${TAG:-latest}

  llm-textgen:
    build:
      context: GenAIComps
      dockerfile: comps/llms/src/text-generation/Dockerfile
    extends: polylingua
    image: ${REGISTRY:-opea}/llm-textgen:${TAG:-latest}
